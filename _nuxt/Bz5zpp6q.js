import{d as F,s as L,af as x,ag as R,ah as j,a9 as e,c as s,L as i,w as o,h as u,ai as k,aj as q,i as r,N as v,f as l,t as w,e as C,K as E,g as M,F as G,q as b,ak as H,al as K,G as O,R as Q,am as I}from"./Cja1rsWx.js";import{_ as J,a as W}from"./Bc8VYRnG.js";import X from"./BikVs_Kq.js";import{_ as Y,a as Z}from"./CFARCz7r.js";import"./B8M2g7tr.js";import"./Dnd51l0P.js";const tt={class:"text-gray-500 dark:text-gray-400"},et={class:"flex flex-wrap items-center gap-3 mt-4"},at={key:1},lt=F({__name:"[slug]",async setup(ot){var f,g,h;let a,_;const c=L(),{data:t}=([a,_]=x(()=>k(c.path,()=>b(c.path).findOne(),"$9yljQkk6zF")),a=await a,_(),a);if(!t.value)throw R({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:d}=([a,_]=x(()=>k(`${c.path}-surround`,()=>b("/blog").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(H(c.path)),{default:()=>[]})),a=await a,_(),a),m=((f=t.value.head)==null?void 0:f.title)||t.value.title,p=((g=t.value.head)==null?void 0:g.description)||t.value.description;return j({title:m,ogTitle:m,description:p,ogDescription:p}),(h=t.value.image)!=null&&h.src,(nt,y)=>{const U=K,$=O,B=Q,S=J,D=X,N=Y,P=W,A=Z,T=I,V=q;return e(t)?(s(),i(V,{key:0},{default:o(()=>[r(S,{title:e(t).title,description:e(t).description},{headline:o(()=>[r(U,v(e(t).badge,{variant:"subtle"}),null,16),y[0]||(y[0]=l("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),l("time",tt,w(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[l("div",et,[(s(!0),C(G,null,E(e(t).authors,(n,z)=>(s(),i(B,{key:z,to:n.to,color:"white",target:"_blank",size:"sm"},{default:o(()=>[r($,v({ref_for:!0},n.avatar,{alt:"Author avatar",size:"2xs"}),null,16),M(" "+w(n.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(T,null,{right:o(()=>[e(t).body&&e(t).body.toc?(s(),i(A,{key:0,links:e(t).body.toc.links},null,8,["links"])):u("",!0)]),default:o(()=>[r(P,{prose:""},{default:o(()=>{var n;return[e(t)&&e(t).body?(s(),i(D,{key:0,value:e(t)},null,8,["value"])):u("",!0),(n=e(d))!=null&&n.length?(s(),C("hr",at)):u("",!0),r(N,{surround:e(d)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):u("",!0)}}});export{lt as default};
